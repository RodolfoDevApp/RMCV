import{C as z,D as R,z as x}from"./chunk-CII3K3P3.js";import{k as ie,l as ne,m as re,n as ae,o as se,q as le}from"./chunk-SLCI2TMQ.js";import{$ as l,Ab as P,Bb as q,Cb as V,Db as K,Eb as U,Gb as M,Hb as u,J as s,Ob as Q,Pb as v,Qb as B,Rb as H,Sa as W,Ta as X,Tb as Y,Va as J,Vb as Z,Wb as ee,Xa as p,Xb as te,Yb as oe,a as m,b as y,fa as n,ib as f,jc as L,ka as N,n as a,qb as C,rb as $,sa as O,sb as c,ta as G,yb as g,zb as h}from"./chunk-44NT2ZHG.js";var ce=(()=>{class e{getConceptGroups(){return a([{id:"atoms",name:"Part\xEDculas",icon:"category",items:[{id:"button",name:"Bot\xF3n",icon:"smart_button"},{id:"input",name:"Input",icon:"input"},{id:"icon",name:"Icono",icon:"emoji_symbols"}]},{id:"molecules",name:"Mol\xE9culas",icon:"widgets",items:[{id:"form",name:"Formulario",icon:"assignment"},{id:"card",name:"Tarjeta Producto",icon:"shopping_bag"}]},{id:"organisms",name:"Organismos",icon:"view_quilt",items:[{id:"modal",name:"Modal",icon:"web_asset"}]}]).pipe(s(800))}static{this.\u0275fac=function(o){return new(o||e)}}static{this.\u0275prov=l({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();var I=class{constructor(){this.api=n(ce)}execute(){return this.api.getConceptGroups()}};var pe=(()=>{class e{getDefaultConfig(){return a({label:"Demo Button",color:"primary",disabled:!1,outline:!1,fullWidth:!1,icon:"touch_app",iconPosition:"start",tooltip:"Presiona aqu\xED"}).pipe(s(500))}static{this.\u0275fac=function(o){return new(o||e)}}static{this.\u0275prov=l({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();var w=class{constructor(){this.api=n(pe)}execute(){return this.api.getDefaultConfig()}};var fe=(()=>{class e{getDefaultConfig(){return a({placeholder:"Escribe aqu\xED\u2026",type:"text",disabled:!1,fullWidth:!1,prefixIcon:"person",suffixIcon:"visibility_off"}).pipe(s(500))}static{this.\u0275fac=function(o){return new(o||e)}}static{this.\u0275prov=l({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();var k=class{constructor(){this.api=n(fe)}execute(){return this.api.getDefaultConfig()}};var de=(()=>{class e{getDefaultConfig(){return a({icon:"home",size:48,color:"#3f51b5",spin:!1}).pipe(s(500))}static{this.\u0275fac=function(o){return new(o||e)}}static{this.\u0275prov=l({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();var S=class{constructor(){this.api=n(de)}execute(){return this.api.getDefaultConfig()}};var me=(()=>{class e{getDefaultConfig(){return a({title:"T\xEDtulo de la tarjeta",subtitle:"Subt\xEDtulo opcional",content:"Este es el contenido de ejemplo de la tarjeta.",imageUrl:"https://th.bing.com/th/id/R.f9675f08bedd8a12baea3fed2397c070?rik=NgCEukGSyZDwLQ&riu=http%3a%2f%2fgetwallpapers.com%2fwallpaper%2ffull%2f1%2f1%2f5%2f665979.jpg&ehk=BUP4W1peC%2fExKOxF53jbXjypoJJvMmiJoh1pGUYsKlk%3d&risl=&pid=ImgRaw&r=0",elevation:2,fullWidth:!1}).pipe(s(500))}static{this.\u0275fac=function(o){return new(o||e)}}static{this.\u0275prov=l({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();var j=class{constructor(){this.api=n(me)}execute(){return this.api.getDefaultConfig()}};var ue=(()=>{class e{getDefaultConfig(){return a({width:"80vw",height:"auto",maxWidth:"500px",maxHeight:"70vh",verticalAlign:"center",backdrop:!0,backdropColor:"rgba(0,0,0,0.5)",closeOnBackdropClick:!0,closeOnEscape:!0,showHeader:!0,headerText:"T\xEDtulo del Modal",showFooter:!0,actions:[{label:"Cancelar",role:"default"},{label:"Aceptar",role:"primary"}],enterAnimation:"fade",exitAnimation:"fade",theme:"light",borderRadius:"8px",ariaLabel:"Modal gen\xE9rico",role:"dialog",contentType:"plainText",contentText:"Contenido de ejemplo.",listItems:[],imageUrl:void 0,contentHtml:void 0,contentMarkdown:void 0,contentPadding:"normal",contentAlignment:"left",scrollable:!0,fontSize:"1rem",lineHeight:"1.5",textColor:"#333",component:void 0}).pipe(s(300))}static{this.\u0275fac=function(o){return new(o||e)}}static{this.\u0275prov=l({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();var T=class{constructor(){this.api=n(ue)}execute(){return this.api.getDefaultConfig()}};var ge=(()=>{class e{getDefinition(){return a({fields:[{name:"email",label:"Correo",type:"email",required:!0,validators:[{type:"required",message:"Requerido"},{type:"email",message:"Formato inv\xE1lido"}]},{name:"age",label:"Edad",type:"number",required:!1,validators:[{type:"numeric",message:"S\xF3lo n\xFAmeros"}]},{name:"country",label:"Pa\xEDs",type:"select",required:!0,optionsEndpoint:"countries",validators:[{type:"required",message:"Requerido"}]},{name:"state",label:"Estado",type:"select",required:!0,optionsEndpoint:"states",validators:[{type:"required",message:"Requerido"}]},{name:"city",label:"Ciudad",type:"select",required:!0,optionsEndpoint:"cities",validators:[{type:"required",message:"Requerido"}]}]}).pipe(s(300))}static{this.\u0275fac=function(o){return new(o||e)}}static{this.\u0275prov=l({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();var F=class{constructor(){this.api=n(ge)}execute(){return this.api.getDefinition()}};var _=(()=>{class e{getCountries(){return a([{label:"M\xE9xico",value:"MX"},{label:"Espa\xF1a",value:"ES"}]).pipe(s(200))}getStates(t){return a(t==="MX"?[{label:"Jalisco",value:"JAL"},{label:"CDMX",value:"CMX"}]:[{label:"Catalu\xF1a",value:"CAT"},{label:"Madrid",value:"MAD"}]).pipe(s(200))}getCities(t){return a(t==="JAL"?[{label:"Guadalajara",value:"GDL"}]:t==="CMX"?[{label:"Ciudad de M\xE9xico",value:"CDMX"}]:t==="CAT"?[{label:"Barcelona",value:"BCN"}]:[{label:"Madrid",value:"MAD"}]).pipe(s(200))}static{this.\u0275fac=function(o){return new(o||e)}}static{this.\u0275prov=l({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();var E=class{constructor(){this.api=n(_)}execute(){return this.api.getCountries()}};var D=class{constructor(){this.api=n(_)}execute(r){return this.api.getStates(r)}};var A=class{constructor(){this.api=n(_)}execute(r){return this.api.getCities(r)}};var he=(()=>{class e{constructor(){this.groups=f([]),this.selectedConcept=f(null),this.sidebarExpanded=f(!0),this.buttonConfig=f(null),this.loadConceptGroupsUseCase=new I,this.loadButtonConfigUseCase=new w,this.inputConfig=f(null),this.loadInputConfigUseCase=new k,this.iconConfig=f(null),this.loadIconConfigUseCase=new S,this.cardConfig=f(null),this.loadCardConfigUseCase=new j,this.formConfig=f(null),this.formGroup=f(null),this.options=f({}),this.loadFormDef=new F,this.loadCountries=new E,this.loadStates=new D,this.loadCities=new A,this.globalModalConfig=f(null),this.globalModalVisible=f(!1),this.loadModalCfg=new T,this.modalConfig=f(null),this.modalVisible=f(!1),this.isModalOpen=L(()=>this.modalVisible()),this.currentModalConfig=L(()=>this.modalConfig())}loadConceptGroups(){this.loadConceptGroupsUseCase.execute().subscribe(t=>{this.groups.set(t)})}selectConcept(t){this.selectedConcept.set(t),t.id==="button"?this.loadButtonConfig():t.id==="input"?this.loadInputConfig():t.id==="icon"?this.loadIconConfig():t.id==="card"?this.loadCardConfig():t.id==="modal"&&this.loadModalConfig()}toggleSidebar(){this.sidebarExpanded.update(t=>!t)}loadButtonConfig(){this.loadButtonConfigUseCase.execute().subscribe(t=>{this.buttonConfig.set(t)})}updateButtonConfig(t){this.buttonConfig.update(o=>m(m({},o),t))}loadInputConfig(){this.loadInputConfigUseCase.execute().subscribe(t=>{this.inputConfig.set(t)})}updateInputConfig(t){this.inputConfig.update(o=>m(m({},o),t))}loadIconConfig(){this.loadIconConfigUseCase.execute().subscribe(t=>{this.iconConfig.set(t)})}updateIconConfig(t){this.iconConfig.update(o=>m(m({},o),t))}loadCardConfig(){this.loadCardConfigUseCase.execute().subscribe(t=>{this.cardConfig.set(t)})}updateCardConfig(t){this.cardConfig.update(o=>m(m({},o),t))}loadModalConfig(){this.loadModalCfg.execute().subscribe(t=>this.modalConfig.set(t))}updateModalConfig(t){this.modalConfig.update(o=>m(m({},o),t))}hideModalConfig(){this.modalConfig.set(null)}showModal(){this.modalVisible.set(!0)}hideModal(){this.modalVisible.set(!1)}loadForm(){this.loadFormDef.execute().subscribe(t=>{this.formConfig.set(t);let o={};t.fields.forEach(i=>{let d=[];i.required&&d.push(x.required),i.type==="email"&&d.push(x.email),i.type==="number"&&d.push(x.pattern(/^\d+$/)),o[i.name]=new R(null,d)}),this.formGroup.set(new z(o)),this.loadCountries.execute().subscribe(i=>{this.options.update(d=>y(m({},d),{country:i}))})})}selectCountry(t){this.loadStates.execute(t).subscribe(o=>{this.options.update(i=>y(m({},i),{state:o})),this.formGroup().get("state").reset(),this.formGroup().get("city").reset()})}selectState(t){this.loadCities.execute(t).subscribe(o=>{this.options.update(i=>y(m({},i),{city:o})),this.formGroup().get("city").reset()})}updateFormDefinition(t){this.formConfig.set(t);let o={};t.fields.forEach(i=>{let d=[];i.required&&d.push(x.required),i.type==="email"&&d.push(x.email),i.type==="number"&&d.push(x.pattern(/^\d+$/)),o[i.name]=new R(null,d)}),this.formGroup.set(new z(o))}openGlobalModal(t){this.globalModalVisible()?this.closeGlobalModal():(this.globalModalConfig.set(t),this.globalModalVisible.set(!0))}closeGlobalModal(){this.globalModalVisible.set(!1)}openPreviewModal(t){this.modalVisible()?this.closePreviewModal():(this.modalConfig.set(t),this.modalVisible.set(!0))}closePreviewModal(){this.modalVisible.set(!1)}static{this.\u0275fac=function(o){return new(o||e)}}static{this.\u0275prov=l({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();var be=e=>({"background-color":e}),xe=(e,r)=>[e,r],_e=(e,r,t,o,i,d,Ce)=>({width:e,height:r,"max-width":t,"max-height":o,"border-radius":i,"font-size":d,color:Ce});function ve(e,r){if(e&1&&(g(0,"header"),v(1),h()),e&2){let t=u(2);p(),B(t.config.headerText)}}function ye(e,r){e&1&&K(0)}function Me(e,r){if(e&1&&(q(0),C(1,ye,1,0,"ng-container",9),V()),e&2){let t=u(2);p(),c("ngComponentOutlet",t.config.component)}}function Ie(e,r){if(e&1&&(g(0,"div"),v(1),h()),e&2){let t=u(3);p(),H(" ",t.config.contentText," ")}}function we(e,r){if(e&1&&P(0,"div",12),e&2){let t=u(3);c("innerHTML",t.config.contentHtml,W)}}function ke(e,r){if(e&1&&(g(0,"li"),v(1),h()),e&2){let t=r.$implicit;p(),B(t)}}function Se(e,r){if(e&1&&(g(0,"ul"),C(1,ke,2,1,"li",13),h()),e&2){let t=u(3);p(),c("ngForOf",t.config.listItems)}}function je(e,r){if(e&1&&P(0,"img",14),e&2){let t=u(3);c("src",t.config.imageUrl,X)}}function Te(e,r){if(e&1&&C(0,Ie,2,1,"div",5)(1,we,1,1,"div",10)(2,Se,2,1,"ul",5)(3,je,1,1,"img",11),e&2){let t=u(2);c("ngIf",t.config.contentType==="plainText"),p(),c("ngIf",t.config.contentType==="html"),p(),c("ngIf",t.config.contentType==="list"),p(),c("ngIf",t.config.contentType==="image")}}function Fe(e,r){if(e&1){let t=U();g(0,"button",17),M("click",function(){O(t);let i=u(3);return G(i.close())}),v(1),h()}if(e&2){let t=r.$implicit;c("ngClass",t.role),p(),H(" ",t.label," ")}}function Ee(e,r){if(e&1&&(g(0,"footer",15),C(1,Fe,2,2,"button",16),h()),e&2){let t=u(2);p(),c("ngForOf",t.config.actions)}}function De(e,r){if(e&1){let t=U();q(0,2),g(1,"div",3),M("click",function(){O(t);let i=u();return G(i.close())}),h(),g(2,"div",4),C(3,ve,2,1,"header",5),g(4,"section",6),C(5,Me,2,1,"ng-container",7)(6,Te,4,4,"ng-template",null,0,oe),h(),C(8,Ee,2,1,"footer",8),h(),V()}if(e&2){let t=Q(7),o=u();p(),c("ngStyle",Z(9,be,o.config.backdropColor)),p(),c("ngClass",ee(11,xe,o.config.theme,o.config.enterAnimation))("ngStyle",te(14,_e,o.config.width,o.config.height,o.config.maxWidth,o.config.maxHeight,o.config.borderRadius,o.config.fontSize,o.config.textColor)),$("role",o.config.role)("aria-label",o.config.ariaLabel),p(),c("ngIf",o.config.showHeader),p(2),c("ngIf",o.config.component)("ngIfElse",t),p(3),c("ngIf",o.config.showFooter)}}var to=(()=>{class e{constructor(){this.ps=n(he)}close(){this.ps.closePreviewModal()}onEscape(){this.visible&&this.config.closeOnEscape&&this.ps.closePreviewModal()}static{this.\u0275fac=function(o){return new(o||e)}}static{this.\u0275cmp=N({type:e,selectors:[["app-modal"]],hostBindings:function(o,i){o&1&&M("keydown.escape",function(){return i.onEscape()},!1,J)},inputs:{config:"config",visible:"visible"},standalone:!0,features:[Y],decls:1,vars:1,consts:[["textTpl",""],["style","padding: 10px;",4,"ngIf"],[2,"padding","10px"],[1,"backdrop",3,"click","ngStyle"],[1,"box",3,"ngClass","ngStyle"],[4,"ngIf"],[1,"body"],[4,"ngIf","ngIfElse"],["class","footer",4,"ngIf"],[4,"ngComponentOutlet"],[3,"innerHTML",4,"ngIf"],[3,"src",4,"ngIf"],[3,"innerHTML"],[4,"ngFor","ngForOf"],[3,"src"],[1,"footer"],[3,"ngClass","click",4,"ngFor","ngForOf"],[3,"click","ngClass"]],template:function(o,i){o&1&&C(0,De,9,22,"ng-container",1),o&2&&c("ngIf",i.visible&&i.config)},dependencies:[ne,le,ie,re,ae,se],styles:['@charset "UTF-8";[_nghost-%COMP%]{position:absolute;inset:0;pointer-events:none;z-index:2000}.backdrop[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;height:100%;z-index:999;pointer-events:all}.box[_ngcontent-%COMP%]{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);z-index:1100;padding:10px;pointer-events:all;background:#fff;box-shadow:0 8px 24px #0003;display:flex;flex-direction:column;overflow:hidden}.modal-header[_ngcontent-%COMP%]{padding:1rem;font-size:1.25rem;font-weight:600;border-bottom:1px solid #eee}.body[_ngcontent-%COMP%]{padding:1rem;flex:1;overflow:auto}.footer[_ngcontent-%COMP%]{padding:.75rem;border-top:1px solid #eee;text-align:right}.footer[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin-left:.5rem;padding:.5rem 1rem;border:none;border-radius:4px;cursor:pointer}']})}}return e})();export{he as a,to as b};
